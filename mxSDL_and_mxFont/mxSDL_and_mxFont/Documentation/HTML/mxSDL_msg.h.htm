<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>mxSDL_msg.h</title>
<meta name="GENERATOR" content="WinCHM">
<meta http-equiv="Content-Type" content="text/html; charset= Windows-1252">

</head>

<BODY BGCOLOR="#FFFFFF">
<PRE><FONT COLOR="#000099">#ifndef _MXSDLMSG_H__
#define _MXSDLMSG_H__
#ifdef _WIN32
#include&lt;windows.h&gt;
#endif
#include&lt;string&gt;
#include&lt;sstream&gt;

</FONT><FONT COLOR="#990000">class</FONT> ErrorMsg<B><FONT COLOR="#663300"> {</FONT></B><FONT COLOR="#990000">
public</FONT><B><FONT COLOR="#663300">:</FONT></B>
	ErrorMsg<B><FONT COLOR="#663300">(</FONT></B>std<B><FONT COLOR="#663300">::</FONT></B>string err<B><FONT COLOR="#663300">) {</FONT></B>

		str_val<B><FONT COLOR="#663300"> =</FONT></B> err<B><FONT COLOR="#663300">;
	}</FONT></B><FONT COLOR="#FF6633">

	void</FONT> PrintLastError<B><FONT COLOR="#663300">() {</FONT></B>
		std<B><FONT COLOR="#663300">::</FONT></B>ostringstream ss<B><FONT COLOR="#663300">;</FONT></B>

		ss<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> "Unhandled Exception: "</FONT><B><FONT COLOR="#663300"> &lt;&lt;</FONT></B>  str_val<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> "\n"</FONT><B><FONT COLOR="#663300">;</FONT></B><FONT COLOR="#000099">
#ifdef _WIN32
</FONT>		MessageBox<B><FONT COLOR="#663300">(</FONT></B>GetForegroundWindow<B><FONT COLOR="#663300">(),</FONT></B>ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">().</FONT></B>c_str<B><FONT COLOR="#663300">(),</FONT></B><FONT COLOR="#009900">"Unhandled Exception"</FONT><B><FONT COLOR="#663300">,</FONT></B> MB_OK<B><FONT COLOR="#663300"> |</FONT></B> MB_ICONERROR<B><FONT COLOR="#663300">);</FONT></B><FONT COLOR="#000099">

#else
</FONT>		std<B><FONT COLOR="#663300">::</FONT></B>cout<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">();</FONT></B><FONT COLOR="#000099">
#endif
</FONT><B><FONT COLOR="#663300">	}</FONT></B><FONT COLOR="#990000">
protected</FONT><B><FONT COLOR="#663300">:</FONT></B>

	std<B><FONT COLOR="#663300">::</FONT></B>string str_val<B><FONT COLOR="#663300">;
};</FONT></B><FONT COLOR="#990000">

class</FONT> Message<B><FONT COLOR="#663300"> {</FONT></B><FONT COLOR="#990000">
public</FONT><B><FONT COLOR="#663300">:</FONT></B>
	Message<B><FONT COLOR="#663300">() {</FONT></B>

		str<B><FONT COLOR="#663300"> =</FONT></B><FONT COLOR="#009900"> ""</FONT><B><FONT COLOR="#663300">;</FONT></B>
		caption<B><FONT COLOR="#663300"> =</FONT></B><FONT COLOR="#009900"> ""</FONT><B><FONT COLOR="#663300">;
	}</FONT></B>
	Message<B><FONT COLOR="#663300">(</FONT></B>std<B><FONT COLOR="#663300">::</FONT></B>string str<B><FONT COLOR="#663300">,</FONT></B> std<B><FONT COLOR="#663300">::</FONT></B>string caption<B><FONT COLOR="#663300">) {</FONT></B><FONT COLOR="#990000">

		this</FONT><B><FONT COLOR="#663300">-&gt;</FONT></B>str<B><FONT COLOR="#663300"> =</FONT></B> str<B><FONT COLOR="#663300">,</FONT></B><FONT COLOR="#990000"> this</FONT><B><FONT COLOR="#663300">-&gt;</FONT></B>caption<B><FONT COLOR="#663300"> =</FONT></B> caption<B><FONT COLOR="#663300">;
	}</FONT></B><FONT COLOR="#FF6633">

	void</FONT> SendMessage<B><FONT COLOR="#663300">() {</FONT></B><FONT COLOR="#000099">
#ifdef _WIN32
</FONT>		MessageBox<B><FONT COLOR="#663300">(</FONT></B>GetForegroundWindow<B><FONT COLOR="#663300">(),</FONT></B> str<B><FONT COLOR="#663300">.</FONT></B>c_str<B><FONT COLOR="#663300">(),</FONT></B> caption<B><FONT COLOR="#663300">.</FONT></B>c_str<B><FONT COLOR="#663300">(),</FONT></B> MB_ICONINFORMATION<B><FONT COLOR="#663300">);</FONT></B><FONT COLOR="#000099">

#else
</FONT>		std<B><FONT COLOR="#663300">::</FONT></B>cout<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> caption<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> " : "</FONT><B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> str<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> "\n"</FONT><B><FONT COLOR="#663300">;</FONT></B><FONT COLOR="#000099">

#endif
</FONT><B><FONT COLOR="#663300">	}</FONT></B><FONT COLOR="#FF6633">
	void</FONT> DebugMessage<B><FONT COLOR="#663300">() {</FONT></B>
		std<B><FONT COLOR="#663300">::</FONT></B>ostringstream ss<B><FONT COLOR="#663300">;</FONT></B>
		ss<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> caption<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> " : "</FONT><B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> str<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B><FONT COLOR="#009900"> "\n"</FONT><B><FONT COLOR="#663300">;</FONT></B><FONT COLOR="#000099">

#ifdef _WIN32
</FONT>		OutputDebugString<B><FONT COLOR="#663300">(</FONT></B>ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">().</FONT></B>c_str<B><FONT COLOR="#663300">());</FONT></B><FONT COLOR="#000099">
#else
</FONT>		std<B><FONT COLOR="#663300">::</FONT></B>cout<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">();</FONT></B><FONT COLOR="#000099">

#endif
</FONT><B><FONT COLOR="#663300">	}</FONT></B>
	Message<B><FONT COLOR="#663300"> &amp;</FONT></B><FONT COLOR="#990000">operator</FONT><B><FONT COLOR="#663300">&lt;&lt;(</FONT></B>std<B><FONT COLOR="#663300">::</FONT></B>string s<B><FONT COLOR="#663300">) {</FONT></B>
		std<B><FONT COLOR="#663300">::</FONT></B>ostringstream ss<B><FONT COLOR="#663300">;</FONT></B>

		ss<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> str<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> s<B><FONT COLOR="#663300">;</FONT></B>
		str<B><FONT COLOR="#663300"> =</FONT></B> ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">();</FONT></B><FONT COLOR="#FF0000">

		return</FONT><B><FONT COLOR="#663300"> *</FONT></B><FONT COLOR="#990000">this</FONT><B><FONT COLOR="#663300">;
	}</FONT></B>

	Message<B><FONT COLOR="#663300"> &amp;</FONT></B><FONT COLOR="#990000">operator</FONT><B><FONT COLOR="#663300">&lt;&lt;(</FONT></B><FONT COLOR="#FF6633">int</FONT> x<B><FONT COLOR="#663300">) {</FONT></B>

		std<B><FONT COLOR="#663300">::</FONT></B>ostringstream ss<B><FONT COLOR="#663300">;</FONT></B>
		ss<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> str<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> x<B><FONT COLOR="#663300">;</FONT></B>
		str<B><FONT COLOR="#663300"> =</FONT></B> ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">();</FONT></B><FONT COLOR="#FF0000">

		return</FONT><B><FONT COLOR="#663300"> *</FONT></B><FONT COLOR="#990000">this</FONT><B><FONT COLOR="#663300">;
	}</FONT></B>

	Message<B><FONT COLOR="#663300"> &amp;</FONT></B><FONT COLOR="#990000">operator</FONT><B><FONT COLOR="#663300">&lt;&lt;(</FONT></B><FONT COLOR="#FF6633">float</FONT> x<B><FONT COLOR="#663300">) {</FONT></B>

		std<B><FONT COLOR="#663300">::</FONT></B>ostringstream ss<B><FONT COLOR="#663300">;</FONT></B>
		ss<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> str<B><FONT COLOR="#663300"> &lt;&lt;</FONT></B> x<B><FONT COLOR="#663300">;</FONT></B>
		str<B><FONT COLOR="#663300"> =</FONT></B> ss<B><FONT COLOR="#663300">.</FONT></B>str<B><FONT COLOR="#663300">();</FONT></B><FONT COLOR="#FF0000">

		return</FONT><B><FONT COLOR="#663300"> *</FONT></B><FONT COLOR="#990000">this</FONT><B><FONT COLOR="#663300">;
	}</FONT></B>
	Message<B><FONT COLOR="#663300"> &amp;</FONT></B><FONT COLOR="#990000">operator</FONT><B><FONT COLOR="#663300">=(</FONT></B>std<B><FONT COLOR="#663300">::</FONT></B>string s<B><FONT COLOR="#663300">) {</FONT></B>

		caption<B><FONT COLOR="#663300"> =</FONT></B> s<B><FONT COLOR="#663300">;</FONT></B><FONT COLOR="#FF0000">
		return</FONT><B><FONT COLOR="#663300"> *</FONT></B><FONT COLOR="#990000">this</FONT><B><FONT COLOR="#663300">;
	}</FONT></B>
	Message<B><FONT COLOR="#663300"> &amp;</FONT></B><FONT COLOR="#990000">operator</FONT><B><FONT COLOR="#663300">+=(</FONT></B>std<B><FONT COLOR="#663300">::</FONT></B>string s<B><FONT COLOR="#663300">) {</FONT></B>

		caption<B><FONT COLOR="#663300"> +=</FONT></B> s<B><FONT COLOR="#663300">;</FONT></B><FONT COLOR="#FF0000">
		return</FONT><B><FONT COLOR="#663300"> *</FONT></B><FONT COLOR="#990000">this</FONT><B><FONT COLOR="#663300">;
	}</FONT></B><FONT COLOR="#FF6633">
	void</FONT> clear<B><FONT COLOR="#663300">() {</FONT></B>

		str<B><FONT COLOR="#663300"> =</FONT></B><FONT COLOR="#009900"> ""</FONT><B><FONT COLOR="#663300">;
	}</FONT></B><FONT COLOR="#FF6633">
	void</FONT> flush<B><FONT COLOR="#663300">() {</FONT></B>
		str<B><FONT COLOR="#663300"> =</FONT></B><FONT COLOR="#009900"> ""</FONT><B><FONT COLOR="#663300">;</FONT></B>

		caption<B><FONT COLOR="#663300"> =</FONT></B><FONT COLOR="#009900"> ""</FONT><B><FONT COLOR="#663300">;
	}</FONT></B><FONT COLOR="#990000">
protected</FONT><B><FONT COLOR="#663300">:</FONT></B>
	std<B><FONT COLOR="#663300">::</FONT></B>string str<B><FONT COLOR="#663300">,</FONT></B>caption<B><FONT COLOR="#663300">;
};</FONT></B><FONT COLOR="#000099">

#endif
</FONT></PRE>
</BODY>
</html>
